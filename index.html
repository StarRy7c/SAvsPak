
<!DOCTYPE html>  <html lang="en">  
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0">  
<title>Willow Live Matches</title>  
<style>  
  body { margin: 0; font-family: Arial, sans-serif; background: #111; color: #fff; }  
  .container { padding: 20px; }  
  .match-list { display: flex; flex-wrap: wrap; gap: 20px; }  
  .match-card { background: #222; border: 1px solid #333; border-radius: 8px; padding: 10px; width: 250px; cursor: pointer; text-align: center; transition: 0.3s; }  
  .match-card:hover { background: #333; }  
  .match-card img { width: 100%; height: auto; border-radius: 6px; }  
  .match-title { margin-top: 10px; font-size: 16px; font-weight: bold; }  
  .link-buttons { margin-top: 10px; display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; }  
  .link-buttons button { background: #0fc; border: none; padding: 8px 12px; border-radius: 5px; cursor: pointer; font-weight: bold; }  
  .link-buttons button:hover { background: #0aa; }  
</style>  
</head>  
<body>  <div class="container">  
  <h1>Willow Live Matches</h1>  
  <div class="match-list" id="matchList"></div>  
</div>  <script>
async function loadMatches() {
  const response = await fetch('https://raw.githubusercontent.com/starry7c/SAvsl/main/willow.json');
  const data = await response.json();
  const matchList = document.getElementById('matchList');

  const globalKid = data.kid;
  const globalKey = data.key;

  data.matches.forEach((match) => {
    const card = document.createElement('div');
    card.className = 'match-card';
    card.innerHTML = `
      <img src="${match.cover}" alt="${match.title}">
      <div class="match-title">${match.title}</div>
      <div class="match-date">${match.datetime}</div>
      <div class="link-buttons" id="links-${match.title.replace(/\s+/g, '')}"></div>
    `;

    matchList.appendChild(card);

    const linksDiv = document.getElementById(`links-${match.title.replace(/\s+/g, '')}`);

    let serverCount = 1;

    if (Array.isArray(match.fastly)) {
      match.fastly.forEach(url => {
        const btn = createButton(`Server ${serverCount} (Fastly)`, url, globalKid, globalKey);
        linksDiv.appendChild(btn);
        serverCount++;
      });
    }
    if (Array.isArray(match.cloudfront)) {
      match.cloudfront.forEach(url => {
        const btn = createButton(`Server ${serverCount} (Cloudfront)`, url, globalKid, globalKey);
        linksDiv.appendChild(btn);
        serverCount++;
      });
    }
    if (Array.isArray(match.backup)) {
      match.backup.forEach(url => {
        const btn = createButton(`Server ${serverCount} (Backup)`, url, globalKid, globalKey);
        linksDiv.appendChild(btn);
        serverCount++;
      });
    }
  });
}

function createButton(name, streamUrl, kid, key) {
  const button = document.createElement('button');
  button.innerText = name;
  button.style.margin = "5px";
  button.style.padding = "10px";
  button.style.backgroundColor = "#00ffff";
  button.style.border = "none";
  button.style.borderRadius = "10px";
  button.style.cursor = "pointer";
  button.onclick = () => {
    const encodedStream = encodeURIComponent(streamUrl);
    const finalUrl = `https://starry7c.github.io/Willow-p?url=${encodedStream}&kid=${kid}&key=${key}`;
    window.open(finalUrl, '_blank');
  };
  return button;
}

loadMatches();
</script></body>  
</html>
